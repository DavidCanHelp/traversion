# Production Environment Configuration
# Copy this file and update with your production values
# NEVER commit actual production secrets to version control

# Application
NODE_ENV=production
APP_NAME=Traversion
APP_VERSION=1.0.0
PORT=3335
API_PORT=3333
WS_PORT=3341
HOST=0.0.0.0
BASE_URL=https://traversion.yourdomain.com
CORS_ORIGINS=https://app.yourdomain.com,https://www.yourdomain.com
TRUST_PROXY=true
LOG_LEVEL=info

# Security (REQUIRED - Generate strong secrets)
JWT_SECRET=CHANGE_THIS_TO_A_RANDOM_64_CHARACTER_STRING
SESSION_SECRET=CHANGE_THIS_TO_ANOTHER_RANDOM_64_CHARACTER_STRING
BCRYPT_ROUNDS=12
COOKIE_SECURE=true
COOKIE_MAX_AGE=86400000
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
CSRF_ENABLED=true
ALLOWED_HOSTS=traversion.yourdomain.com,www.traversion.yourdomain.com

# Database
DB_TYPE=postgres
POSTGRES_HOST=your-db-host.amazonaws.com
POSTGRES_PORT=5432
POSTGRES_DB=traversion_production
POSTGRES_USER=traversion_user
POSTGRES_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
POSTGRES_SSL=true
POSTGRES_POOL_MIN=5
POSTGRES_POOL_MAX=20
POSTGRES_CONNECTION_TIMEOUT=30000

# Redis Cache
REDIS_ENABLED=true
REDIS_HOST=your-redis-host.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_TO_REDIS_PASSWORD
REDIS_DB=0
REDIS_KEY_PREFIX=traversion:prod:
REDIS_TTL=3600

# GitHub Integration
GITHUB_ENABLED=true
GITHUB_TOKEN=ghp_YOUR_GITHUB_PERSONAL_ACCESS_TOKEN
GITHUB_APP_ID=YOUR_GITHUB_APP_ID
GITHUB_PRIVATE_KEY=YOUR_GITHUB_APP_PRIVATE_KEY
GITHUB_WEBHOOK_SECRET=YOUR_GITHUB_WEBHOOK_SECRET
GITHUB_TIMEOUT=30000
GITHUB_RETRY_LIMIT=3

# Monitoring Integrations
DATADOG_ENABLED=true
DATADOG_API_KEY=YOUR_DATADOG_API_KEY
DATADOG_APP_KEY=YOUR_DATADOG_APP_KEY
DATADOG_SITE=datadoghq.com

NEWRELIC_ENABLED=false
NEWRELIC_API_KEY=YOUR_NEWRELIC_API_KEY
NEWRELIC_ACCOUNT_ID=YOUR_NEWRELIC_ACCOUNT_ID

PAGERDUTY_ENABLED=true
PAGERDUTY_API_TOKEN=YOUR_PAGERDUTY_API_TOKEN
PAGERDUTY_INTEGRATION_KEY=YOUR_PAGERDUTY_INTEGRATION_KEY

# Slack Integration
SLACK_ENABLED=true
SLACK_BOT_TOKEN=xoxb-YOUR_SLACK_BOT_TOKEN
SLACK_APP_TOKEN=xapp-YOUR_SLACK_APP_TOKEN
SLACK_SIGNING_SECRET=YOUR_SLACK_SIGNING_SECRET
SLACK_DEFAULT_CHANNEL=#production-incidents

# Email Configuration
EMAIL_ENABLED=true
EMAIL_FROM=alerts@traversion.yourdomain.com
SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=YOUR_SMTP_USERNAME
SMTP_PASSWORD=YOUR_SMTP_PASSWORD

# Feature Flags
FEATURE_AUTO_ROLLBACK=true
FEATURE_ML_PREDICTIONS=true
FEATURE_REALTIME_TRACKING=true
FEATURE_FEEDBACK_LOOP=true
FEATURE_ADVANCED_ANALYTICS=true

# Deployment Settings
DEPLOYMENT_AUTO_DETECT=true
DEPLOYMENT_CHECK_INTERVAL=5000
DEPLOYMENT_CORRELATION_WINDOW=300000
DEPLOYMENT_CONFIDENCE_THRESHOLD=0.7
DEPLOYMENT_ROLLBACK_THRESHOLD=0.8

# Risk Analysis
RISK_OFF_HOURS_WEIGHT=0.25
RISK_WEEKEND_WEIGHT=0.25
RISK_CONFIG_CHANGE_WEIGHT=0.5
RISK_DATABASE_CHANGE_WEIGHT=0.6
RISK_LARGE_CHANGE_WEIGHT=0.4
RISK_URGENT_KEYWORD_WEIGHT=0.5
RISK_LEARNING_RATE=0.1
RISK_MIN_SAMPLE_SIZE=20

# Storage
DATA_DIR=/var/lib/traversion
BACKUP_DIR=/var/lib/traversion/backups
LOGS_DIR=/var/log/traversion
MAX_LOG_SIZE=50m
MAX_LOG_FILES=30
ENABLE_COMPRESSION=true

# Performance
MAX_WORKERS=8
REQUEST_TIMEOUT=30000
SHUTDOWN_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000
BODY_LIMIT=10mb

# Development (disabled in production)
HOT_RELOAD=false
DEBUG_MODE=false
MOCK_DATA=false
VERBOSE_ERRORS=false